/**
 * Global CSS Styles - Apple 2024 Design Guidelines Compliant
 * Core styles and design token variables
 * Updated to match Apple's Human Interface Guidelines 2024
 */

/* Apple 2024 Design Tokens (Variables) */
:root {
  /* Apple System Colors - Light Mode */
  --color-systemMartiGray: #3C3C43; /* Primary brand color - Marti Gray */
  --color-systemMartiGrayHover: #2C2C2F; /* Primary brand color hover - Marti Gray darker */
  --color-systemBlue: #007AFF; /* Original Apple Blue */
  --color-systemGreen: #34C759;
  --color-systemRed: #FF3B30;
  --color-systemOrange: #FF9500;
  --color-systemYellow: #FFCC00;
  --color-systemPink: #FF2D92;
  --color-systemPurple: #AF52DE;
  --color-systemTeal: #5AC8FA;
  --color-systemIndigo: #5856D6;
  
  /* Apple Semantic Colors - Light Mode */
  --color-label: #000000;
  --color-secondaryLabel: rgba(60, 60, 67, 0.6);
  --color-tertiaryLabel: rgba(60, 60, 67, 0.3);
  --color-quaternaryLabel: rgba(60, 60, 67, 0.18);
  
  --color-systemFill: rgba(120, 120, 128, 0.2);
  --color-secondarySystemFill: rgba(120, 120, 128, 0.16);
  --color-tertiarySystemFill: rgba(118, 118, 128, 0.12);
  --color-quaternarySystemFill: rgba(116, 116, 128, 0.08);
  
  --color-systemBackground: #FFFFFF;
  --color-systemBackgroundTranslucent: rgba(255, 255, 255, 0.9);
  --color-secondarySystemBackground: #F2F2F7;
  --color-tertiarySystemBackground: #FFFFFF;
  
  --color-systemGroupedBackground: #F2F2F7;
  --color-secondarySystemGroupedBackground: #FFFFFF;
  --color-tertiarySystemGroupedBackground: #F2F2F7;
  
  --color-separator: rgba(60, 60, 67, 0.29);
  --color-opaqueSeparator: #C6C6C8;
  
  /* Brand Colors */
  --color-primary: var(--color-systemMartiGray);
  --color-primary-hover: var(--color-systemMartiGrayHover);
  --color-primary-rgb: 60, 60, 67; /* RGB values for Marti Gray */
  --color-primaryTranslucent: rgba(60, 60, 67, 0.1);
  --color-primaryBorder: rgba(60, 60, 67, 0.2);
  --color-primaryGlow: rgba(60, 60, 67, 0.3);
  --color-secondary: var(--color-systemTeal);
  
  /* Shadow Colors RGB */
  --color-shadowBase-rgb: 0, 0, 0; /* RGB values for shadow base (black) */
  --color-shadowFocus-rgb: 60, 60, 67; /* RGB values for Marti Gray */
  --color-shadowLight: rgba(0, 0, 0, 0.1);
  --color-modalOverlay: rgba(0, 0, 0, 0.5);
  --color-modalOverlayDark: rgba(0, 0, 0, 0.7);
  --color-errorTranslucent: rgba(255, 59, 48, 0.9);
  --color-accent: var(--color-systemOrange);
  
  /* Gradients */
  --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-primarySuccess: linear-gradient(135deg, var(--color-primary), var(--color-success));
  
  /* Legacy Support (mapped to Apple semantic colors) */
  --color-background: var(--color-systemGroupedBackground);
  --color-card: var(--color-secondarySystemGroupedBackground);
  --color-border: var(--color-separator);
  --color-textPrimary: var(--color-label);
  --color-textSecondary: var(--color-secondaryLabel);
  --color-textTertiary: var(--color-tertiaryLabel);
  
  /* Status Colors */
  --color-success: var(--color-systemGreen);
  --color-successDark: #30D158; /* Apple System Green Dark */
  --color-error: var(--color-systemRed);
  --color-warning: var(--color-systemYellow);
  
  /* ✅ SUCCESS COLOR VARIANTS: Apple HIG compliant */
  --color-successGlow: rgba(52, 199, 89, 0.3);
  --color-successBorder: rgba(52, 199, 89, 0.2);
  --color-successSubtle: rgba(52, 199, 89, 0.08);
  
  /* Green interaction states (for discount modal) */
  --color-greenHoverSubtle: rgba(52, 199, 89, 0.05);
  --color-greenHoverLight: rgba(52, 199, 89, 0.12);
  --color-greenHoverMedium: rgba(52, 199, 89, 0.15);
  --color-greenActiveMedium: rgba(52, 199, 89, 0.18);
  --color-greenHoverDark: rgba(52, 199, 89, 0.28);
  --color-greenActiveDark: rgba(52, 199, 89, 0.35);
  
  /* Component Colors */
  --color-buttonPrimary: var(--color-label);
  --color-buttonPrimaryHover: var(--color-secondaryLabel);
  
  /* Icon and UI element colors with semantic opacity (30% for subtle inactive state) */
  --color-iconInactive: rgba(120, 120, 128, 0.3);
  --color-iconInactiveDark: rgba(120, 120, 128, 0.48);
  --color-closeButtonBg: rgba(120, 120, 128, 0.3);
  --color-closeButtonBgDark: rgba(120, 120, 128, 0.48);
  
  /* Environment-specific colors */
  --color-marti-primary: var(--color-systemMartiGray);
  --color-marti-accent: var(--color-systemTeal);
  --color-search-primary: #0072C6;
  --color-search-accent: #00A2ED;
  --color-search-headerBg: #0072C6;
  --color-search-bubbleSent: #E8F4FC;
  --color-search-bubbleReceived: #FFFFFF;
  
  /* Effect colors */
  --color-shimmer-effect: rgba(255, 255, 255, 0.2);
  --color-ripple-effect: rgba(255, 255, 255, 0.3);

  /* Spacing Tokens - Apple Standard */
  --spacing-0: 0;
  --spacing-0\.01: 0.1px;
  --spacing-0\.125: 1px;
  --spacing-0\.25: 2px;
  --spacing-0\.375: 3px;
  --spacing-0\.5: 4px;
  --spacing-0\.625: 5px;
  --spacing-0\.75: 6px;
  --spacing-1: 8px;
  --spacing-1\.25: 10px;
  --spacing-1\.5: 12px;
  --spacing-1\.75: 14px;
  --spacing-2: 16px;
  --spacing-2\.25: 18px;
  --spacing-2\.5: 20px;
  --spacing-2\.75: 22px;
  --spacing-3: 24px;
  --spacing-3\.125: 25px;
  --spacing-3\.75: 30px;
  --spacing-3\.5: 28px;
  --spacing-4: 32px;
  --spacing-4\.25: 34px;
  --spacing-4\.5: 36px;
  --spacing-4\.75: 38px;
  --spacing-5: 40px;
  --spacing-5\.5: 44px;
  --spacing-5\.625: 45px;
  --spacing-6: 48px;
  --spacing-6\.25: 50px;
  --spacing-7: 56px;
  --spacing-8: 64px;
  --spacing-9: 72px;
  --spacing-9\.375: 75px;
  --spacing-10: 80px;
  --spacing-11\.875: 95px;
  --spacing-12: 96px;
  --spacing-12\.5: 100px;
  --spacing-14: 112px;
  --spacing-14\.375: 115px;
  --spacing-16: 128px;
  --spacing-16\.25: 130px;
  --spacing-19\.375: 155px;
  --spacing-20: 160px;
  --spacing-20\.625: 165px;
  --spacing-21\.25: 170px;
  --spacing-22\.5: 180px;
  --spacing-23\.4375: 187.5px;
  --spacing-24: 192px;
  --spacing-25: 200px;
  --spacing-27\.5: 220px;
  --spacing-37\.5: 300px;
  --spacing-46\.875: 375px;
  
  /* Negative spacing for overflow effects */
  --spacing-negative-2: -16px;
  --spacing-negative-2\.5: -20px;
  --spacing-negative-3: -24px;
  --spacing-negative-3\.75: -30px;
  
  /* Icon Size Tokens - Apple Standard */
  --icon-size-2xs: 12px;
  --icon-size-xs: 14px;
  --icon-size-sm: 18px;
  --icon-size-md: 20px;
  --icon-size-lg: 24px;
  --icon-size-xl: 28px;

  /* Opacity Tokens - Apple Standard */
  --opacity-disabled: 0.4;
  --opacity-secondary: 0.6;
  --opacity-muted: 0.7;
  --opacity-hover: 0.8;
  --opacity-focus: 0.9;

  /* Border Width Tokens - Apple Standard */
  --border-accent-width: 3px;
  --border-separator-width: 1px;
  --border-focus-width: 2px;

  /* ✅ ADDED: Stroke Width Tokens - SF Symbols Standard */
  --stroke-width-icon: 1.5px;          /* Desktop icon stroke width (SF Symbols standard) */
  --stroke-width-icon-mobile: 1.2px;   /* Mobile icon stroke width (scaled for smaller screens) */
  
  /* ✅ ADDED: Icon Size Tokens - Header Specific */
  --icon-size-header: 24px;            /* Header icon size (24px for buttons) */

  /* ✅ ADDED: Border Radius Tokens - Apple Standard */
  --border-radius-none: 0;
  --border-radius-xs: 4px;
  --border-radius-sm: 6px;
  --border-radius-md: 8px;
  --border-radius-lg: 12px;
  --border-radius-xl: 16px;
  --border-radius-2xl: 18px;
  --border-radius-3xl: 22px;
  --border-radius-4xl: 25px;
  --border-radius-full: 50%;
  
  /* Apple Component Radius - Semantic */
  --radius-button: var(--border-radius-lg); /* 12px - Button radius */
  --radius-input: var(--border-radius-4xl); /* 25px - Input pill radius */
  --radius-input-mobile: var(--border-radius-3xl); /* 22px - Mobile input radius */
  --radius-card: var(--border-radius-lg); /* 12px - Card radius */
  --radius-modal: var(--border-radius-xl); /* 16px - Modal radius */

  /* Component Width Tokens - Apple Standard */
  --component-width-badge: 60px;
  --component-width-min-popover: 200px;
  --component-width-max-content: 768px;
  
  /* Modal-specific tokens (NEW) */
  --spacing-modal-maxWidth: 900px;
  --spacing-modal-maxWidthMedium: 500px;
  --spacing-modal-maxWidthSmall: 450px;
  --spacing-modal-borderRadius: 20px;
  --spacing-modal-padding: 24px;
  
  /* Dropdown-specific tokens (NEW) */
  --spacing-dropdown-widthMobile: 26%;
  --spacing-dropdown-widthDesktop: 24%;
  --spacing-dropdown-maxHeight: 150px;
  
  /* Product-specific tokens (NEW) */
  --spacing-product-touchTarget: 44px;
  --max-width-content: 800px; /* Main content container max width */

  /* ✅ NEW: Z-Index Tokens - Layer Management */
  --z-index-hidden: -1;
  --z-index-base: 0;
  --z-index-raised: 1;
  --z-index-overlay: 2;
  --z-index-topActions: 20;
  --z-index-modal: 9999;
  
  /* ✅ NEW: Modal Design Tokens */
  --color-modal-overlay: rgba(0, 0, 0, 0.4); /* ✅ UPDATED: Match sidebar mobile dimming (40% light mode) */
  --color-modal-overlayLight: rgba(0, 0, 0, 0.3);
  --color-modal-overlayDark: rgba(0, 0, 0, 0.6); /* ✅ UPDATED: Match sidebar mobile dimming (60% dark mode) */
  --color-modal-buttonActive: rgba(60, 60, 67, 0.3);
  --color-modal-buttonActiveDark: rgba(235, 235, 245, 0.3);
  
  /* ✅ NEW: Opacity Design Tokens */
  --opacity-invisible: 0;
  --opacity-subtle: 0.1;
  --opacity-light: 0.3;
  --opacity-medium: 0.5;
  --opacity-strong: 0.7;
  --opacity-visible: 1;
  
  /* ✅ NEW: Animation Duration Tokens */
  --duration-micro: 10ms;
  --duration-instant: 100ms;
  --duration-fast: 200ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  --duration-cardReveal: 1100ms;
  --duration-cardInitial: 16ms;
  --duration-cardAnimate: 300ms;
  --duration-cardAnimateMobile: 250ms;
  --duration-modalFade: 300ms;
  --duration-modalInstantFade: 60ms;
  --duration-fadeIn: 400ms;
  --duration-checkboxPulse: 1600ms;
  
  /* ✅ NEW: Easing Curve Tokens */
  --easing-ease: ease;
  --easing-easeIn: ease-in;
  --easing-easeOut: ease-out;
  --easing-easeInOut: ease-in-out;
  --easing-linear: linear;
  --easing-apple: cubic-bezier(0.25, 0.1, 0.25, 1);
  --easing-appleCard: cubic-bezier(0.33, 1, 0.68, 1);
  --easing-appleCheckbox: cubic-bezier(0.52, 0, 0.48, 1);
  
  /* ✅ NEW: Static Spacing Tokens for Detail Modal */
  --spacing-static-0\.5: 2px;
  --spacing-static-1: 4px;
  --spacing-static-1\.5: 6px;
  --spacing-static-2: 8px;
  --spacing-static-3: 12px;
  --spacing-static-14: 56px;
  --spacing-static-15: 60px;
  --spacing-static-17\.5: 70px;
  
  /* ✅ NEW: Font Size Tokens */
  --font-size-2xs: 11px;
  --font-size-xs: 12px;
  --font-size-13: 13px;
  --font-size-sm: 14px;
  --font-size-15: 15px;
  --font-size-base: 16px;
  --font-size-17: 17px;
  --font-size-lg: 18px;
  --font-size-19: 19px;
  --font-size-xl: 20px;
  --font-size-2xl: 22px;
  --font-size-3xl: 24px;
  --font-size-4xl: 28px;
  
  /* ✅ NEW: Line Height Tokens */
  --line-height-none: 1;
  --line-height-tight: 1.2;
  --line-height-normal: 1.3;
  --line-height-medium: 1.4;
  --line-height-relaxed: 1.5;
  --line-height-loose: 1.6;
  
  /* ✅ NEW: Border Radius Tokens for Detail Modal */
  --border-radius-sm: 3px;
  --border-radius-lg: 10px;
  --border-radius-card: 10px;
  --border-radius-progressBar: 3px;
  --border-radius-modal: 20px;
  
  /* ✅ NEW: Effects Tokens */
  --blur-modal: blur(5px);
  
  /* ✅ NEW: Border Width Tokens */
  --border-width-none: 0;
  --border-width-thin: 0.5px;
  --border-width-fine: 0.1px;
  --border-width-base: 1px;
  --border-width-thick: 2px;
  --border-width-accent: 3px;
  --border-width-bold: 4px;
  
  /* ✅ NEW: Modal Detail Colors */
  --color-modal-backdrop: rgba(0, 0, 0, 0.1);
  --color-modal-backdropStrong: rgba(0, 0, 0, 0.15);
  --color-modal-scrollbar: rgba(0, 0, 0, 0.2);
  --color-modal-cardImageShadow: rgba(0, 0, 0, 0.2);
  --color-modal-buttonBg: rgba(247, 247, 247, 0.7);
  --color-modal-buttonBorder: rgba(0, 0, 0, 0.05);
  --color-modal-sectionBg: rgba(0, 0, 0, 0.03);
  --color-modal-sectionBgGreen: rgba(48, 209, 88, 0.08);
  --color-modal-sectionBgGreenDark: rgba(48, 209, 88, 0.12);
  --color-modal-spinnerBorder: rgba(0, 0, 0, 0.1);
  --color-modal-checkboxGreen: rgba(48, 209, 88, 0.8);
  --color-modal-checkboxGlow: rgba(48, 209, 88, 0.15);
  --color-modal-checkboxBg: rgba(48, 209, 88, 0.15);
  --color-modal-checkboxHighlight: rgba(255, 255, 255, 0.9);
  --color-modal-checkboxPulse: rgba(48, 209, 88, 0.25);
  --color-modal-checkboxPulseGlow: rgba(48, 209, 88, 0.3);
  --z-index-overlay: 2;
  --z-index-dropdown: 10;
  --z-index-tooltip: 15;
  --z-index-topActions: 20;
  --z-index-floating: 50;
  --z-index-modalOverlay: 9998;
  --z-index-modal: 9999;
  --z-index-modalContent: 10000;
  --z-index-notification: 10001;
  --z-index-emergency: 99999;

  /* ✅ NEW: Animation Duration Tokens - Modal Specific */
  --duration-modalFade: 300ms;
  --duration-modalInstantFade: 60ms;
  --duration-cardInitial: 16ms;
  --duration-cardAnimate: 300ms;
  --duration-cardAnimateMobile: 250ms;

  /* ✅ NEW: Modal Color Tokens */
  --color-modal-overlay: rgba(0, 0, 0, 0.4); /* ✅ UPDATED: Match sidebar mobile dimming (40% light mode) */
  --color-modal-overlayLight: rgba(0, 0, 0, 0.3);
  --color-modal-overlayDark: rgba(0, 0, 0, 0.6); /* ✅ UPDATED: Match sidebar mobile dimming (60% dark mode) */
  --color-modal-buttonActive: rgba(60, 60, 67, 0.3);
  --color-modal-buttonActiveDark: rgba(235, 235, 245, 0.3);

  /* ✅ NEW: Opacity Tokens */
  --opacity-invisible: 0;
  --opacity-subtle: 0.1;
  --opacity-light: 0.3;
  --opacity-medium: 0.5;
  --opacity-strong: 0.7;
  --opacity-visible: 1;

  /* ✅ NEW: Effect Tokens - Blur */
  --effect-blur-none: blur(0);
  --effect-blur-subtle: blur(4px);
  --effect-blur-light: blur(5px);
  --effect-blur-medium: blur(8px);
  --effect-blur-strong: blur(12px);
  --effect-blur-modal: blur(8px) saturate(1.2); /* ✅ UPDATED: Match sidebar mobile backdrop (8px blur + 1.2 saturation) */

  /* ✅ ADDED: iMessage Authentic Sizing Tokens */
  /* Based on Apple HIG 2024 specifications for message media */
  
  /* Landscape Images (wider than tall) - 16:9, 4:3, 3:2 ratios */
  --max-width-message-image-landscape: 300px;     /* Landscape max width (consistent) */
  --max-height-message-image-landscape: 225px;    /* Landscape max height (4:3 ratio) */
  --max-width-message-image-landscape-mobile: 260px;  /* Mobile landscape max width (consistent) */
  --max-height-message-image-landscape-mobile: 195px; /* Mobile landscape max height (4:3 ratio) */
  
  /* Portrait Images (taller than wide) - 3:4, 9:16, 2:3 ratios */
  --max-width-message-image-portrait: 300px;      /* Portrait max width (consistent) */
  --max-height-message-image-portrait: 400px;     /* Portrait max height (4:3 ratio) */
  --max-width-message-image-portrait-mobile: 260px;   /* Mobile portrait max width (consistent) */
  --max-height-message-image-portrait-mobile: 347px;  /* Mobile portrait max height (4:3 ratio) */
  
  /* Square Images (1:1 ratio) */
  --max-width-message-image-square: 300px;        /* Square max width (consistent) */
  --max-height-message-image-square: 300px;       /* Square max height (1:1 ratio) */
  --max-width-message-image-square-mobile: 260px;     /* Mobile square max width (consistent) */
  --max-height-message-image-square-mobile: 260px;    /* Mobile square max height (1:1 ratio) */
  
  /* Universal Constraints (apply to all orientations) */
  --min-width-message-image: 120px;          /* iMessage image min width (usability) */
  --min-height-message-image: 80px;          /* iMessage image min height (usability) */
  --max-width-message-image-absolute: 320px; /* Absolute maximum width */
  --max-height-message-image-absolute: 400px; /* Absolute maximum height */
  
  /* Voice Messages Design Tokens */
  --max-width-message-voice: 280px;          /* iMessage voice message max width */
  --max-width-message-voice-mobile: 250px;   /* iMessage voice message mobile max width */
  --min-width-message-voice: 180px;          /* iMessage voice message min width */
  
  /* ✅ ADDED: Voice Recording Controls Tokens */
  --size-record-button-legacy: 40px;         /* Legacy record button size (ChatInterface.css) */
  --spacing-recording-controls-gap: var(--spacing-1\.5); /* 12px - Recording controls gap */
  --spacing-recording-controls-padding: 0 var(--spacing-1); /* 0 8px - Recording controls padding */
  --shadow-record-button: 0 2px 5px rgba(0, 0, 0, 0.1); /* Record button shadow */
  --color-recording-timer: #ff3b30;          /* Recording timer text color */
  --font-size-recording-timer: var(--font-size-sm); /* 14px - Recording timer font size */
  --spacing-recording-timer-margin: var(--spacing-1\.5); /* 12px - Recording timer margin */
  --size-recording-timer-min-width: var(--spacing-5); /* 40px - Recording timer min width */
  --font-weight-recording-timer: var(--font-weight-medium); /* 500 - Recording timer font weight */
  
  /* ✅ ADDED: Audio Wave Animation Tokens */
  --spacing-audio-wave-gap: var(--spacing-0\.75); /* 3px - Audio wave bar gap */
  --size-audio-wave-height: var(--spacing-2\.5); /* 20px - Audio wave container height */
  --spacing-audio-wave-margin: 0 var(--spacing-1); /* 0 8px - Audio wave margin */
  --size-audio-wave-bar-width: var(--spacing-0\.75); /* 3px - Audio wave bar width */
  --color-audio-wave-bar: #ef4444;           /* Audio wave bar color */
  --radius-audio-wave-bar: var(--spacing-0\.75); /* 3px - Audio wave bar border radius */
  
  /* Audio Wave Bar Heights */
  --size-audio-wave-bar-1: var(--spacing-0\.5); /* 2px - Bar 1 height */
  --size-audio-wave-bar-2: var(--spacing-1\.25); /* 10px - Bar 2 height */
  --size-audio-wave-bar-3: var(--spacing-2\.25); /* 18px - Bar 3 height */
  --size-audio-wave-bar-4: var(--spacing-1\.75); /* 14px - Bar 4 height */
  --size-audio-wave-bar-5: var(--spacing-1\.25); /* 10px - Bar 5 height */
  --size-audio-wave-bar-6: var(--spacing-2); /* 16px - Bar 6 height */
  --size-audio-wave-bar-7: var(--spacing-1\.25); /* 10px - Bar 7 height */
  --size-audio-wave-bar-8: var(--spacing-1\.75); /* 14px - Bar 8 height */
  --size-audio-wave-bar-9: var(--spacing-0\.5); /* 4px - Bar 9 height */
  --size-audio-wave-bar-10: var(--spacing-0\.5); /* 4px - Bar 10 height */
  
  /* Audio Wave Animation Values */
  --opacity-audio-wave-start: 0.5;           /* Animation start opacity */
  --opacity-audio-wave-end: 1;               /* Animation end opacity */
  --scale-audio-wave-start: 0.3;             /* Animation start scale */
  --scale-audio-wave-end: 1;                 /* Animation end scale */
  
  /* ✅ ADDED: Legacy Voice Message Tokens */
  --bg-voice-message-controls: #f0f0f0;      /* Voice message controls background */
  --bg-voice-message-controls-user: black;   /* User voice message controls background */
  --color-voice-message-controls-user: white; /* User voice message controls text color */
  --bg-voice-message-play-button: rgba(0, 0, 0, 0.1); /* Voice message play button background */
  --bg-voice-message-play-button-user: rgba(255, 255, 255, 0.2); /* User voice message play button background */
  --bg-voice-message-progress-bar: rgba(0, 0, 0, 0.1); /* Voice message progress bar background */
  --bg-voice-message-progress-bar-user: rgba(255, 255, 255, 0.2); /* User voice message progress bar background */
  --bg-voice-message-progress: #f8f9fa;      /* Voice message progress fill background */
  --bg-voice-message-progress-user: #60a5fa; /* User voice message progress fill background */
  --font-size-voice-message-time: 0.8rem;    /* Voice message time font size */
  --color-voice-message-time: #666;          /* Voice message time color */
  --color-voice-message-time-user: rgba(255, 255, 255, 0.8); /* User voice message time color */
  --bg-voice-message-wave-bar: #f8f9fa;      /* Voice message wave bar background */
  --bg-voice-message-wave-bar-user: #60a5fa; /* User voice message wave bar background */
  
  /* ✅ ADDED: ChatIntroComponent Audio Player Tokens */
  --size-intro-audio-player-min-width: 200px; /* Intro audio player min width */
  --shadow-intro-audio-player: 0 2px 8px rgba(0, 0, 0, 0.1); /* Intro audio player shadow */
  --transition-intro-audio-player: all 0.3s ease; /* Intro audio player transition */
  --size-intro-play-button: 36px;            /* Intro play button size */
  --transition-intro-play-button: all 0.2s ease; /* Intro play button transition */
  --size-intro-play-button-icon: 16px;       /* Intro play button icon size */
  --transform-intro-play-button-icon: translateX(1px); /* Intro play button icon transform */
  --transform-button-hover-lift: translateY(-3px); /* Button hover lift transform */
  --spacing-intro-waveform-gap: var(--spacing-0\.5); /* 2px - Intro waveform gap */
  --size-intro-waveform-height: var(--spacing-4); /* 32px - Intro waveform height */
  --size-intro-waveform-bar-width: var(--spacing-0\.75); /* 3px - Intro waveform bar width */
  --radius-intro-waveform-bar: var(--spacing-0\.5); /* 2px - Intro waveform bar radius */
  --transition-intro-waveform-bar: all 0.3s ease; /* Intro waveform bar transition */
  --scale-intro-wave-start: 0.5;             /* Intro wave animation start scale */
  --scale-intro-wave-end: 1;                 /* Intro wave animation end scale */
  --size-intro-duration-min-width: var(--spacing-4\.5); /* 36px - Intro duration min width */

  /* Visual Effects Tokens - Apple Standard */
  --blur-subtle: blur(4px);
  --blur-backdrop: blur(20px);
  --blur-backdrop-enhanced: blur(20px) saturate(1.8);

  /* Elevation Tokens - Apple Standard */
  --elevation-0: 0;
  --elevation-1: 1;
  --elevation-2: 2;
  --elevation-3: 3;
  --elevation-5: 5;
  --elevation-10: 10;
  --elevation-20: 20;
  --elevation-50: 50;
  --elevation-100: 100;
  
  /* Semantic Spacing */
  --spacing-layout-page: 40px;
  --spacing-layout-section: 64px;
  --spacing-layout-grid: 40px;
  --spacing-component-xs: 8px;
  --spacing-component-sm: 16px;
  --spacing-component-md: 24px;
  --spacing-component-lg: 32px;
  --spacing-component-xl: 40px;
  --spacing-inset-xs: 8px;
  --spacing-inset-sm: 16px;
  --spacing-inset-md: 24px;
  --spacing-inset-lg: 32px;
  --spacing-card-padding: 32px;
  --spacing-card-gap: 16px;
  --spacing-chat-messagePadding: 24px;
  --spacing-chat-messageGap: 16px;
  --spacing-chat-inputPadding: 16px;
  
  /* Typography Tokens - Apple System */
  --font-family-system: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --font-family-mono: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --font-family-appleSystem: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;
  
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  
  /* Apple Typography Scale */
  --font-size-2xs: 11px;
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-15: 15px;
  --font-size-base: 16px;
  --font-size-17: 17px;
  --font-size-lg: 18px;
  --font-size-19: 19px;
  --font-size-xl: 20px;
  --font-size-2xl: 22px;
  --font-size-3xl: 24px;
  --font-size-4xl: 28px;
  --font-size-5xl: 32px;
  --font-size-6xl: 36px;
  --font-size-7xl: 42px;
  --font-size-8xl: 48px;
  --font-size-9xl: 64px;
  
  --line-height-none: 1;
  --line-height-tight: 1.2;
  --line-height-compact: 1.3;
  --line-height-snug: 1.375;
  --line-height-button: 1.4;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;
  --line-height-loose: 2;
  
  --letter-spacing-tighter: -0.05em;
  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.025em;
  --letter-spacing-wider: 0.05em;
  --letter-spacing-widest: 0.1em;

  /* Apple Message Bubble Colors */
  --color-bubble-sent: var(--color-primary);
  --color-bubble-sent-text: #FFFFFF;
  --color-bubble-received: #E5E5EA;
  --color-bubble-received-text: var(--color-label);
  
  /* ✅ ADDED: iMessage-Style Background - Pure white in light mode */
  --color-messages-background: #FFFFFF;

  /* ✅ ADDED: Apple Radius System - Map to global tokens */
  --radius-sm: 6px;            /* Small radius */
  --radius-md: 8px;            /* Medium radius */
  --radius-lg: 12px;           /* Large radius (pill shape for buttons) */
  
  /* ✅ ADDED: Apple Interaction States */
  --state-hover-subtle: rgba(0, 0, 0, 0.05);      /* Subtle hover background */
  --state-active-subtle: rgba(0, 0, 0, 0.1);      /* Subtle active background */

  /* ✅ COMPREHENSIVE INPUTAREA DESIGN TOKENS - Exact value preservation */
  
  /* Background Tokens - InputArea specific */
  --bg-input-container: rgba(247, 247, 247, 0.7);           /* Main container background */
  --bg-input-container-dark: rgba(28, 28, 30, 0.7);         /* Dark mode container */
  --bg-input-wrapper: rgba(255, 255, 255, 0.6);             /* Input wrapper background */
  --bg-input-wrapper-focus: rgba(255, 255, 255, 0.8);       /* Input wrapper focus */
  --bg-input-wrapper-dark: rgba(44, 44, 46, 0.5);           /* Dark mode wrapper */
  --bg-input-wrapper-focus-dark: rgba(44, 44, 46, 0.7);     /* Dark mode wrapper focus */
  --bg-external-button: rgba(255, 255, 255, 0.85);          /* External button background */
  --bg-external-button-hover: rgba(255, 255, 255, 0.95);    /* External button hover */
  --bg-external-button-active: rgba(255, 255, 255, 0.9);    /* External button active */
  --bg-external-button-dark: rgba(44, 44, 46, 0.6);         /* Dark mode external button */
  --bg-external-button-hover-dark: rgba(44, 44, 46, 0.8);   /* Dark mode external button hover */
  --bg-input-button-hover: rgba(0, 0, 0, 0.04);             /* Input button hover */
  --bg-input-button-active: rgba(0, 0, 0, 0.06);            /* Input button active */
  --bg-input-button-hover-dark: rgba(255, 255, 255, 0.1);   /* Dark mode input button hover */
  --bg-recording-mode: rgba(255, 59, 48, 0.05);             /* Recording mode background */
  
  /* Border Tokens - InputArea specific */
  --border-input-container: 0.5px solid rgba(0, 0, 0, 0.05);     /* Container top border */
  --border-input-container-dark: 0.5px solid rgba(44, 44, 46, 0.2); /* Dark mode container border */
  --border-input-wrapper: 1px solid rgba(0, 0, 0, 0.08);         /* Input wrapper border */
  --border-input-wrapper-dark: 1px solid rgba(44, 44, 46, 0.3);  /* Dark mode wrapper border */
  --border-external-button: 1px solid rgba(0, 0, 0, 0.08);       /* External button border */
  --border-external-button-hover: rgba(0, 0, 0, 0.12);           /* External button hover border */
  --border-external-button-dark: 1px solid rgba(44, 44, 46, 0.3); /* Dark mode external button border */
  --border-recording-mode: rgba(255, 59, 48, 0.2);               /* Recording mode border */
  
  /* Shadow Tokens - InputArea specific */
  --shadow-input-container: 0 -0.5px 0 0 rgba(0, 0, 0, 0.04);    /* Container top shadow */
  
  /* Size Tokens - InputArea specific */
  --size-external-button: 36px;                    /* External button size */
  --size-input-button: 36px;                       /* Input button size */
  --size-input-button-mobile: 32px;                /* Mobile input button size */
  --size-input-wrapper-min-height: 40px;           /* Input wrapper min height */
  --size-input-wrapper-max-height: 120px;          /* Input wrapper max height */
  --size-input-field-min-height: 40px;             /* Input field min height */
  --size-input-field-max-height: 100px;            /* Input field max height */
  --size-external-button-mobile: 32px;             /* Mobile external button size */
  --size-input-wrapper-mobile: 32px;               /* Mobile wrapper height */
  --size-input-button-large-mobile: 40px;          /* Large mobile button size */
  --size-record-button: 50px;                      /* Record button size */
  --size-icon-standard: 20px;                      /* Standard icon size */
  --size-icon-small: 16px;                         /* Small icon size */
  
  /* Spacing Tokens - InputArea specific */
  --spacing-input-button-right: 4px;               /* Right padding for input buttons */
  --spacing-input-field-padding: 8px 12px;         /* Input field internal padding */
  --spacing-input-field-padding-mobile: 6px 10px;  /* Mobile input field padding */
  --spacing-record-controls: var(--spacing-3);     /* Recording controls spacing */
  
  /* Color Tokens - InputArea specific */
  --color-external-button: rgba(0, 0, 0, 0.4);     /* External button text color */
  --color-external-button-dark: rgba(255, 255, 255, 0.6); /* Dark mode external button text */
  --color-placeholder: var(--color-textSecondary);  /* Placeholder text color */
  --color-placeholder-dark: rgba(255, 255, 255, 0.5); /* Dark mode placeholder */

  /* ✅ ADDED: White Alpha Color Tokens - Apple Standard */
  --color-white-75: rgba(255, 255, 255, 0.75);     /* White with 75% opacity - icons/subtle elements */
  --color-white-80: rgba(255, 255, 255, 0.8);      /* White with 80% opacity - dark mode text */
  --color-white-90: rgba(255, 255, 255, 0.9);      /* White with 90% opacity - hover states */
  
  /* Blur Tokens - InputArea specific */
  --blur-input-container: blur(20px);               /* Container backdrop blur */
  --blur-external-button: blur(10px);               /* External button backdrop blur */
  
  /* Transition Tokens - InputArea specific */
  --transition-input-standard: 0.2s ease;           /* Standard transition timing */
  --transition-input-fast: 0.1s ease;               /* Fast transition timing */
  
  /* Opacity Tokens - InputArea specific */
  --opacity-placeholder: 0.6;                       /* Placeholder opacity */
  
  /* ✅ ADDED: Message Animation & Layout Tokens */
  --animation-message-translateY: 5px;              /* Message appear animation distance */
  --opacity-message-time: 0.7;                      /* Message timestamp opacity */
  --layout-message-max-width-desktop: 90%;          /* Desktop message max width */
  --layout-message-max-width-mobile: 85%;           /* Mobile message max width */
  
  /* ✅ ADDED: Quick Replies Design Tokens */
  --spacing-quick-reply-gap: 6px;                   /* Gap between quick reply buttons */
  --spacing-quick-reply-padding-bottom: 3px;        /* Bottom padding for quick replies content */
  --spacing-quick-reply-edge-offset: 31px;          /* Edge offset for scrolling layout */
  --spacing-quick-reply-button-horizontal: 15px;    /* Quick reply button left/right padding */
  --size-quick-reply-custom-button: 34px;           /* Custom input button size (width/height) */
  --size-quick-reply-button-height: 34px;           /* Quick reply button height */
  --size-filter-button-height: 34px;                /* Filter button height (Apple HIG 2024) */
  --shadow-quick-reply: 0 1px 3px rgba(0, 0, 0, 0.08); /* Quick reply button shadow */
  
  /* ✅ ADDED: Canvas Container Design Tokens */
  --border-canvas-container: 1px solid #e1e1e1;     /* Canvas container border */
  --bg-canvas-container: #fff;                      /* Canvas container background */
  --shadow-canvas-container: 0 -2px 10px rgba(0, 0, 0, 0.05); /* Canvas container shadow */
  --radius-canvas-container-mobile: 20px;           /* Mobile canvas container border radius */
  
  /* ✅ ADDED: Button Cards Design Tokens */
  --shadow-button-card: 0 2px 8px rgba(0, 0, 0, 0.1); /* Button card default shadow */
  --shadow-button-card-hover: 0 4px 12px rgba(0, 0, 0, 0.15); /* Button card hover shadow */
  --shadow-button-card-dark: 0 2px 8px rgba(0, 0, 0, 0.3); /* Button card dark mode shadow */
  --shadow-button-card-hover-dark: 0 4px 12px rgba(0, 0, 0, 0.4); /* Button card dark mode hover shadow */
  --height-button-card-image: 160px;                /* Button card image height */
  --line-height-button-card-title: 1.4;             /* Button card title line height */
  --bg-button-card-image: #f8f9fa;                  /* Button card image background */
  --bg-button-card-image-dark: #1a1a1a;             /* Button card image background dark mode */
  --bg-button-card-placeholder: #f0f0f0;            /* Button card placeholder background */
  --color-button-card-placeholder: #777;            /* Button card placeholder text color */
  --color-button-card-primary-hover: var(--color-primary-hover); /* Button card primary button hover color */
  --gradient-button-card-overlay: linear-gradient(to bottom, rgba(0,0,0,0) 70%, rgba(0,0,0,0.3) 100%); /* Button card image overlay gradient */
  
  /* ✅ ADDED: Product Carousel Design Tokens */
  --size-product-card-width-desktop: 220px;         /* Desktop product card width */
  --size-product-card-width-tablet: 200px;          /* Tablet product card width */
  --size-product-card-width-mobile: 170px;          /* Mobile product card width */
  --size-product-card-width-small: 165px;           /* Small mobile product card width */
  --size-product-card-width-xs: 155px;              /* Extra small product card width */
  --size-product-image-height-desktop: 160px;       /* Desktop product image height */
  --size-product-image-height-mobile: 130px;        /* Mobile product image height */
  --size-product-info-min-height: 115px;            /* Product info minimum height */
  --size-product-info-min-height-mobile: 100px;     /* Mobile product info minimum height */
  --size-product-info-min-height-small: 95px;       /* Small mobile product info minimum height */
  --size-product-name-min-height: 38px;             /* Product name minimum height */
  --size-product-name-min-height-mobile: 34px;      /* Mobile product name minimum height */
  --size-wishlist-button: 36px;                     /* Wishlist button size */
  --size-wishlist-button-mobile: 32px;              /* Mobile wishlist button size */
  --size-wishlist-icon: 22px;                       /* Wishlist icon size */
  --size-wishlist-icon-mobile: 20px;                /* Mobile wishlist icon size */
  --size-select-button: 36px;                       /* Select button size */
  --size-select-button-mobile: 32px;                /* Mobile select button size */
  --size-checkbox: 22px;                            /* Checkbox size */
  --size-checkbox-mobile: 20px;                     /* Mobile checkbox size */
  --size-button-min-width-sm: 120px;                /* Small button minimum width */
  --size-button-min-width-md: 150px;                /* Medium button minimum width */
  --size-button-max-width-md: 250px;                /* Medium button maximum width */
  --spacing-product-grid-gap: var(--spacing-2);     /* Product grid gap (16px) */
  --spacing-product-grid-gap-mobile: var(--spacing-1\.5); /* Mobile product grid gap (12px) */
  --spacing-product-grid-gap-small: var(--spacing-1); /* Small mobile product grid gap (8px) */
  --spacing-product-info-padding-desktop: var(--spacing-2); /* Desktop product info padding (16px) */
  --spacing-product-info-padding-mobile: var(--spacing-1\.25);  /* Mobile product info padding (10px) */
  --spacing-product-name-margin: 6px;               /* Product name bottom margin */
  --spacing-product-name-margin-mobile: 4px;        /* Mobile product name bottom margin */
  --spacing-product-price-gap: var(--spacing-1);    /* Product price row gap (8px) */
  --spacing-product-price-gap-mobile: 4px;          /* Mobile product price row gap */
  --spacing-product-top-position: 10px;             /* Product card top element position */
  --spacing-product-right-position: 5px;            /* Product card right element position */
  --spacing-product-price-row-gap: var(--spacing-1); /* Product price row gap (8px) */
  --spacing-product-button-group-gap: 4px;          /* Product button group gap */
  --spacing-product-image-rect-padding: 5px;        /* Product rectangular image padding */
  --spacing-product-name-margin-bottom: 6px;        /* Product name bottom margin */
  --spacing-product-brand-margin-bottom: 6px;       /* Product brand bottom margin */
  --border-radius-product-card: 16px;               /* Product card border radius */
  --border-radius-product-card-mobile: var(--border-radius-lg); /* Mobile product card border radius (14px) */
  --border-radius-product-image: 16px 16px 0 0;     /* Product image border radius */
  --border-radius-product-image-mobile: var(--border-radius-lg) var(--border-radius-lg) 0 0; /* Mobile product image border radius */
  --border-radius-wishlist-button: 18px;            /* Wishlist button border radius */
  --aspect-ratio-product-image: 75%;                /* Product image aspect ratio (padding-top) */
  --line-height-product-name: 1.25;                 /* Product name line height */
  --letter-spacing-product-name: -0.01em;           /* Product name letter spacing */
  --font-size-product-name: 15px;                   /* Product name font size */
  --font-size-product-brand: 13px;                  /* Product brand font size */
  --font-size-product-price: 15px;                  /* Product price font size */
  --shadow-product-card: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06); /* Product card shadow */
  --shadow-product-image: 0 16px 32px -8px rgba(0, 0, 0, 0.153); /* Product image shadow */
  --shadow-product-card-dark: 0 1px 3px rgba(0, 0, 0, 0.2), 0 1px 2px rgba(0, 0, 0, 0.12); /* Dark mode product card shadow */
  --shadow-product-card-hover-dark: 0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 4px rgba(0, 0, 0, 0.2); /* Dark mode product card hover shadow */
  --shadow-product-card-selected-dark: 0 0 0 2px var(--color-primary), 0 2px 8px rgba(0, 0, 0, 0.3); /* Dark mode product card selected shadow */
  --color-product-image-bg: var(--color-card);      /* Product image background color */
  --color-product-wishlist-icon: #6e6e73;           /* Product wishlist icon color */
  --color-product-star-filled: #FFB800;             /* Product star filled color */
  --color-product-star-empty: #D1D1D6;              /* Product star empty color */
  --bg-product-modal-image: #fafafa;                /* Product modal image background */
  --bg-product-comparison: #fafafa;                 /* Product comparison background */
  
  /* ✅ MESSAGESCONTAINER DESIGN TOKENS - Apple HIG 2024 Compliant */
  
  /* Layout Height Tokens */
  --layout-header-height: 58px;                     /* Header height for content offset - matches actual ChatHeader height (11px padding + content) */
  --layout-input-area-height: 100px;                /* Input area height for content offset */
  --layout-header-height-mobile: 52px;              /* Mobile header height - matches actual ChatHeader mobile height (10px padding + content) */
  --layout-input-area-height-mobile: 100px;         /* Mobile input area height */
  
  /* Apple Semantic Bottom Spacing Tokens */
  --layout-content-breathing-room: var(--spacing-component-lg);  /* 32px - Comfortable breathing room below content */
  --layout-content-breathing-room-mobile: var(--spacing-4);      /* 24px - Slightly tighter on mobile */
  --layout-safe-area-bottom-ios: env(safe-area-inset-bottom, 20px);     /* iOS safe area (dynamic) */
  --layout-safe-area-bottom-android: 16px;          /* Android navigation gesture area */
  --layout-pwa-bottom-padding: var(--spacing-component-sm);      /* 16px - Compact for app-like experience */
  
  /* Content Width Tokens */
  --content-max-width: 768px;                       /* Apple's preferred reading width */
  --content-max-width-mobile: 100%;                 /* Mobile content width */
  
  /* Responsive Margin Tokens - Consistent with InputArea */
  --spacing-responsive-mobile-min: 8px;             /* clamp minimum for mobile */
  --spacing-responsive-mobile-preferred: 2vw;       /* clamp preferred for mobile */
  --spacing-responsive-mobile-max: 12px;            /* clamp maximum for mobile */
  
  --spacing-responsive-desktop-min: 48px;                 /* clamp(48px, 7vw, 96px) min - Apple conservative */
  --spacing-responsive-desktop-preferred: 7vw;            /* clamp(48px, 7vw, 96px) preferred - Content-first */
  --spacing-responsive-desktop-max: 96px;                 /* clamp(48px, 7vw, 96px) max - Never excessive */
  
  --spacing-responsive-large-min: 64px;                   /* clamp(64px, 8vw, 120px) min - Comfortable margins */
  --spacing-responsive-large-preferred: 8vw;              /* clamp(64px, 8vw, 120px) preferred - Proportional */
  --spacing-responsive-large-max: 120px;                  /* clamp(64px, 8vw, 120px) max - Conservative maximum */
  
  --spacing-responsive-xl-min: 64px;                      /* clamp(64px, 8vw, 120px) min - Same as large for consistency */
  --spacing-responsive-xl-preferred: 8vw;                 /* clamp(64px, 8vw, 120px) preferred - Content-serving */
  --spacing-responsive-xl-max: 120px;                     /* clamp(64px, 8vw, 120px) max - Apple-style conservative */
  
  /* Icon Size Tokens - Extended */
  --font-size-icon-large: var(--font-size-8xl);     /* 48px - Large icon size (empty state) */
  --font-size-icon-medium: var(--font-size-4xl);    /* 28px - Medium icon size */
  
  /* Border Radius Tokens - Extended */
  --border-radius-notification: var(--radius-md);    /* 8px - Notification border radius */
  
  /* Scroll Performance Tokens */
  --scroll-behavior-smooth: auto;                  /* Auto scrolling behavior instead of smooth */
  --scroll-behavior-auto: auto;                      /* Auto scrolling behavior (reduced motion) */
  --will-change-scroll: transform;                   /* Proper scroll optimization */
  
  /* Container Tokens */
  --container-mobile-padding: 4px;                   /* Mobile container horizontal padding */
  --container-scrollbar-width: 6px;                  /* Scrollbar width */
  --container-scrollbar-radius: 3px;                 /* Scrollbar border radius */
  
  /* Layout Element Tokens */
  --layout-scroll-anchor-height: 0px;                /* Scroll anchor height (minimal impact) */
  --layout-scroll-anchor-width: 1px;                 /* Scroll anchor width */
  --layout-border-width-standard: 1px;               /* Standard border width */
  
  /* Content Width Constraints */
  --content-description-max-width: 500px;            /* Max width for description text */
  --content-notification-max-width: 90%;             /* Max width for notifications */

  /* ✅ ADDED: Product-specific spacing tokens */
  --spacing-product-cardWidth: var(--spacing-27\.5);
  --spacing-product-cardMinHeight: var(--spacing-14\.375);
  --spacing-product-touchTarget: var(--spacing-5\.5);
  --spacing-product-gridGap: var(--spacing-4);

  --spacing-product-buttonGap: var(--spacing-1);
  
  /* Modal spacing tokens */
  --spacing-modal-maxWidth: 900px;
  --spacing-modal-borderRadius: 20px;
  --spacing-modal-padding: 24px;

  /* ✅ ADDED: Aspect Ratio Design Tokens */
  --aspect-ratio-product-image: 75%; /* Legacy padding-top values for older technique */
  --aspect-ratio-mobile: 65%;
  --aspect-ratio-square-legacy: 100%;
  --aspect-ratio-video: 56.25%;
  --aspect-ratio-golden: 61.8%;
  --aspect-ratio-widescreen: 42.857%;
  
  /* Modern CSS aspect-ratio property values */
  --aspect-ratio-square: 1 / 1;
  --aspect-ratio-landscape: 4 / 3;
  --aspect-ratio-widescreen-modern: 16 / 9;
  --aspect-ratio-portrait: 3 / 4;

  /* ✅ ADDED: Utility Design Tokens */
  /* ✅ REMOVED: --utility-modal-overlay - duplicate of --color-modal-overlay */
  --utility-card-header-bg: rgba(250, 250, 252, 0.8);
  --utility-match-card-bg: rgba(0, 113, 227, 0.08);
  
  /* Percentage tokens */
  --percentage-modalWidthMobile: 92%;
  --percentage-modalHeightMobile: 85vh;

  /* ===================================== */
  /* SHADOW DESIGN TOKENS */
  /* ===================================== */
  
  /* Base Shadow Definitions */
  --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.03);
  --shadow-soft: 0 2px 8px rgba(0, 0, 0, 0.05);
  --shadow-medium: 0 4px 16px rgba(0, 0, 0, 0.08);
  --shadow-strong: 0 8px 28px rgba(0, 0, 0, 0.12);
  --shadow-productCard: 0 2px 14px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.03);
  --shadow-productCardHover: 0 8px 28px rgba(0, 0, 0, 0.12);
  --shadow-productImage: 0 16px 32px -8px rgba(0, 0, 0, 0.153);
  --shadow-button: 0 2px 8px rgba(60, 60, 67, 0.25);         /* Changed to Marti Gray RGB */
  --shadow-buttonHover: 0 4px 12px rgba(60, 60, 67, 0.35);    /* Changed to Marti Gray RGB */
  --shadow-primaryGlow: 0 4px 20px rgba(60, 60, 67, 0.3);     /* Primary glow shadow */
  --shadow-modal: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --shadow-dropdown: 0 10px 25px rgba(0, 0, 0, 0.15);
  --shadow-focus: 0 0 0 3px rgba(60, 60, 67, 0.3);           /* Changed to Marti Gray RGB */
  --shadow-appleModal: 0 4px 12px rgba(0, 0, 0, 0.15);       /* ✅ NEW: Apple modal card shadow */
  --shadow-none: none;
  
  /* Semantic Shadow Tokens */
  --shadow-layout-card: var(--shadow-productCard);
  --shadow-layout-surface: var(--shadow-soft);
  --shadow-layout-elevated: var(--shadow-medium);
  --shadow-layout-floating: var(--shadow-strong);
  --shadow-interactive-button: var(--shadow-button);
  --shadow-interactive-buttonHover: var(--shadow-buttonHover);
  --shadow-interactive-focus: var(--shadow-focus);
  --shadow-interactive-focusVisible: var(--shadow-focusVisible);
  --shadow-filter-button: var(--shadow-filterButton);
  --shadow-filter-buttonActive: var(--shadow-filterButtonActive);
  --shadow-filter-buttonFocus: var(--shadow-filterButtonFocus);
  --shadow-filter-buttonDisabled: var(--shadow-filterButtonDisabled);
  --shadow-product-card: var(--shadow-productCard);
  --shadow-product-cardHover: var(--shadow-productCardHover);
  --shadow-product-image: var(--shadow-productImage);
  --shadow-overlay-modal: var(--shadow-modal);
  --shadow-overlay-dropdown: var(--shadow-dropdown);

  /* ===================================== */
  /* ANIMATION DESIGN TOKENS */
  /* ===================================== */
  
  /* Duration Tokens */
  --duration-micro: 10ms;
  --duration-instant: 100ms;
  --duration-fast: 200ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  --duration-hover: 200ms;
  --duration-focus: 150ms;
  --duration-reveal: 1100ms;
  --duration-modal: 400ms;
  --duration-cardReveal: 1100ms;
  --duration-cardInitial: 16ms;
  --duration-cardAnimate: 300ms;
  --duration-cardAnimateMobile: 250ms;
  --duration-buttonPress: 100ms;
  --duration-imageLoad: 300ms;
  --duration-instantFade: 60ms;
  --duration-pulseAnimation: 1.6s;
  --duration-noMotion: 0.01ms;
  
  /* Easing Curve Tokens */
  --easing-apple: cubic-bezier(0.25, 0.1, 0.25, 1);
  --easing-appleSpring: cubic-bezier(0.65, 0, 0.35, 1);
  --easing-ease: ease;
  --easing-easeIn: ease-in;
  --easing-easeOut: ease-out;
  --easing-easeInOut: ease-in-out;
  --easing-linear: linear;
  --easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --easing-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --easing-appleAccelerate: cubic-bezier(0.4, 0, 1, 1);
  --easing-appleDecelerate: cubic-bezier(0, 0, 0.2, 1);
  --easing-appleCard: cubic-bezier(0.33, 1, 0.68, 1);
  --easing-applePulse: cubic-bezier(0.52, 0, 0.48, 1);
  --easing-appleModal: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  
  /* Transition Tokens */
  --transition-color: color var(--duration-fast) var(--easing-ease);
  --transition-backgroundColor: background-color var(--duration-fast) var(--easing-ease);
  --transition-borderColor: border-color var(--duration-fast) var(--easing-ease);
  --transition-opacity: opacity var(--duration-normal) var(--easing-apple);
  --transition-opacityFast: opacity var(--duration-fast) var(--easing-ease);
  --transition-transform: transform var(--duration-normal) var(--easing-apple);
  --transition-transformFast: transform var(--duration-fast) var(--easing-apple);
  --transition-all: all var(--duration-normal) var(--easing-apple);
  --transition-allFast: all var(--duration-fast) var(--easing-ease);
  --transition-button: background-color var(--duration-hover) var(--easing-ease);
  --transition-card: box-shadow var(--duration-hover) var(--easing-ease);
  --transition-modal: all var(--duration-modal) var(--easing-apple);
  
  /* Delay Tokens */
  --delay-none: 0ms;
  --delay-short: 50ms;
  --delay-medium: 100ms;
  --delay-long: 150ms;
  --delay-stagger1: 100ms;
  --delay-stagger2: 150ms;
  --delay-stagger3: 200ms;
  --delay-stagger4: 250ms;
  
  /* Scale Transform Tokens */
  --scale-hover: 1.02;
  --scale-press: 0.98;
  --scale-none: 1;
  --scale-normal: 1;
  --scale-shrink: 0.95;
  --scale-expand: 1.02;
  
  /* Semantic Animation Tokens */
  --animation-interaction-hover: var(--transition-color);
  --animation-interaction-focus: all var(--duration-focus) var(--easing-ease);
  --animation-interaction-press: all var(--duration-buttonPress) var(--easing-ease);
  --animation-layout-modal: var(--transition-modal);
  --animation-layout-card: var(--transition-card);
  --animation-layout-reveal: opacity var(--duration-reveal) var(--easing-apple);
  --animation-product-cardReveal: opacity var(--duration-cardReveal) var(--easing-apple);
  --animation-product-imageLoad: opacity var(--duration-imageLoad) var(--easing-ease);
  --animation-product-hoverShadow: box-shadow var(--duration-hover) var(--easing-ease);
  
  /* New Apple System Gray Colors for complete tokenization */
  --color-systemGray: #8E8E93;
  --color-systemGray2: #AEAEB2;
  --color-systemGray3: #C7C7CC;
  --color-systemGray4: #D1D1D6;
  --color-systemGray5: #E5E5EA;
  --color-systemGray6: #F2F2F7;
  
  /* UI-Specific Semantic Colors */
  --color-iconSecondary: #8E8E93;           /* For #6e6e73 */
  --color-backgroundLight: #E5E5EA;         /* For #f0f0f0 */
  --color-disabledBackground: #1C1C1E;      /* For #1c1c1e */
  --color-disabledText: #8E8E93;           /* For #98989f */
  
  /* Opacity tokens */
  --opacity-disabled: 0.6;
  --opacity-semiTransparent: 0.5;
  --opacity-subtle: 0.3;
  --opacity-faint: 0.25;
  --opacity-hidden: 0;
  --opacity-visible: 1;
  --opacity-pulseMin: 0.25;
  --opacity-pulseMax: 0.45;
  --opacity-ringSoft: 0.3;
  --opacity-ringBright: 0.8;
  
  /* Z-index tokens */
  --z-index-base: 0;
  --z-index-content: 1;
  --z-index-elevated: 2;
  --z-index-ui: 5;
  --z-index-navigation: 20;
  --z-index-overlay: 50;
  --z-index-backdrop: 1500; /* ✅ APPLE HIG: Above PWA install prompt (999) but below modals (9999) */
  --z-index-modal: 9999; /* ✅ APPLE HIG: Top layer for modals */
  --z-index-tooltip: 9999;
  
  /* Effect tokens */
  --effect-blur-none: blur(0);
  --effect-blur-subtle: blur(4px);
  --effect-blur-light: blur(5px);
  --effect-blur-medium: blur(8px);
  --effect-blur-strong: blur(12px);
  --effect-blur-appleModal: blur(20px);
  --effect-blur-appleCard: blur(16px);
  --effect-blur-detailModal: blur(8px) saturate(1.2); /* ✅ NEW: Detail modal specific blur */
  --effect-backdrop-none: none;
  --effect-backdrop-blur: blur(20px);
  --effect-backdrop-blurSubtle: blur(8px);

  /* ✅ UNIFIED GLASSMORPHISM DESIGN SYSTEM */
  /* Apple-compliant glassmorphism tokens for consistent material design */
  /* ===== GLASSMORPHISM BACKGROUNDS ===== */
  /* Primary: Chat Header, Input Area, Cart Container/Header */
  --glassmorphism-bg-primary: rgba(247, 247, 247, 0.7);
  --glassmorphism-bg-primary-dark: rgba(28, 28, 30, 0.7);
  
  /* Secondary: Sidebar (distinct panel color) */
  --glassmorphism-bg-secondary: rgba(242, 242, 247, 0.78);
  --glassmorphism-bg-secondary-dark: rgba(28, 28, 30, 0.78);
  
  /* Elevated: Cart Items, Cards - Subtle, blended elevation */
  --glassmorphism-bg-elevated: rgba(247, 247, 247, 0.75);
  --glassmorphism-bg-elevated-dark: rgba(32, 32, 34, 0.75);
  
  /* ===== GLASSMORPHISM FILTERS ===== */
  /* Blur System */
  --glassmorphism-blur-standard: blur(20px);     /* Main surfaces */
  --glassmorphism-blur-subtle: blur(16px);       /* Secondary elements - more blended */
  --glassmorphism-blur-backdrop: blur(8px);      /* Backdrops */
  
  /* Saturation Enhancement */
  --glassmorphism-saturate-standard: saturate(1.8);  /* Standard enhancement */
  --glassmorphism-saturate-subtle: saturate(1.2);    /* Backdrop enhancement */
  
  /* ===== COMBINED GLASSMORPHISM EFFECTS ===== */
  /* Primary: Chat Header, Input Area, Cart */
  --glassmorphism-primary: var(--glassmorphism-bg-primary);
  --glassmorphism-primary-filter: var(--glassmorphism-blur-standard) var(--glassmorphism-saturate-standard);
  --glassmorphism-primary-dark: var(--glassmorphism-bg-primary-dark);
  
  /* Secondary: Sidebar */
  --glassmorphism-secondary: var(--glassmorphism-bg-secondary);
  --glassmorphism-secondary-filter: var(--glassmorphism-blur-standard) var(--glassmorphism-saturate-standard);
  --glassmorphism-secondary-dark: var(--glassmorphism-bg-secondary-dark);
  
  /* Elevated: Cart Items, Cards */
  --glassmorphism-elevated: var(--glassmorphism-bg-elevated);
  --glassmorphism-elevated-filter: var(--glassmorphism-blur-subtle) var(--glassmorphism-saturate-standard);
  --glassmorphism-elevated-dark: var(--glassmorphism-bg-elevated-dark);
  
  /* Backdrop: Modal backdrops */
  --glassmorphism-backdrop-filter: var(--glassmorphism-blur-backdrop) var(--glassmorphism-saturate-subtle);
}

/* Dark Mode - Apple System Colors */
@media (prefers-color-scheme: dark) {
  :root {
    /* Apple System Colors - Dark Mode */
    --color-systemMartiGray: #5A5A5E; /* Primary brand color dark - Marti Gray Dark */
    --color-systemMartiGrayHover: #6A6A6E; /* Primary brand color hover dark - Marti Gray lighter */
    --color-systemBlue: #0A84FF; /* Original Apple Blue Dark */
    --color-systemGreen: #30D158;
    --color-systemRed: #FF453A;
    --color-systemOrange: #FF9F0A;
    --color-systemYellow: #FFD60A;
    --color-systemPink: #FF375F;
    --color-systemPurple: #BF5AF2;
    --color-systemTeal: #64D2FF;
    --color-systemIndigo: #5E5CE6;
    
    /* Apple Semantic Colors - Dark Mode */
    --color-label: #FFFFFF;
    --color-secondaryLabel: rgba(235, 235, 245, 0.6);
    --color-tertiaryLabel: rgba(235, 235, 245, 0.3);
    --color-quaternaryLabel: rgba(235, 235, 245, 0.16);
    
    --color-systemFill: rgba(120, 120, 128, 0.36);
    --color-secondarySystemFill: rgba(120, 120, 128, 0.32);
    --color-tertiarySystemFill: rgba(118, 118, 128, 0.28);
    --color-quaternarySystemFill: rgba(118, 118, 128, 0.24);
    
    --color-systemBackground: #000000;
    --color-secondarySystemBackground: #1C1C1E;
    --color-tertiarySystemBackground: #2C2C2E;
    
    --color-systemGroupedBackground: #000000;
    --color-secondarySystemGroupedBackground: #1C1C1E;
    --color-tertiarySystemGroupedBackground: #2C2C2E;
    
    --color-separator: rgba(84, 84, 88, 0.65);
    --color-opaqueSeparator: #38383A;
    
    /* Update brand colors for dark mode */
    --color-primary: var(--color-systemMartiGray);
    --color-primary-hover: var(--color-systemMartiGrayHover);
    --color-primary-rgb: 90, 90, 94; /* RGB values for Marti Gray Dark */
    --color-secondary: var(--color-systemTeal);
    
    /* Shadow Colors RGB - Dark Mode */
    --color-shadowFocus-rgb: 90, 90, 94; /* RGB values for Marti Gray Dark */
    
    /* Apple Message Bubble Colors - Dark Mode */
    --color-bubble-sent: var(--color-primary);
    --color-bubble-sent-text: #FFFFFF;
    --color-bubble-received: #2C2C2E;
    --color-bubble-received-text: var(--color-label);
    
    /* ✅ ADDED: iMessage-Style Background - Pure black in dark mode */
    --color-messages-background: #000000;
    
    /* Icon and UI element colors with semantic opacity - Dark Mode */
    --color-iconInactive: var(--color-iconInactiveDark);
    --color-closeButtonBg: var(--color-closeButtonBgDark);
    
    /* Modal glassmorphism button tokens - Dark Mode */
    --color-modal-buttonBg: rgba(44, 44, 46, 0.8); /* Dark glassmorphism background */
    --color-modal-buttonBorder: rgba(255, 255, 255, 0.1); /* Subtle light border for dark mode */
    
    /* ✅ UPDATED: Modal overlay dark mode - match sidebar mobile dimming */
    --color-modal-overlay: var(--color-modal-overlayDark); /* Use dark variant (60% opacity) */
    
    /* ✅ SUCCESS COLOR VARIANTS: Dark mode */
    --color-successGlow: rgba(52, 199, 89, 0.4);
    --color-successBorder: rgba(52, 199, 89, 0.3);
    --color-successSubtle: rgba(52, 199, 89, 0.12);
  }
}

/* Manual Dark Theme Override */
.dark-theme {
  /* Apple System Colors - Dark Mode */
  --color-systemMartiGray: #5A5A5E; /* Primary brand color dark - Marti Gray Dark */
  --color-systemMartiGrayHover: #6A6A6E; /* Primary brand color hover dark - Marti Gray lighter */
  --color-systemBlue: #0A84FF; /* Original Apple Blue Dark */
  --color-systemGreen: #30D158;
  --color-systemRed: #FF453A;
  --color-systemOrange: #FF9F0A;
  --color-systemYellow: #FFD60A;
  --color-systemPink: #FF375F;
  --color-systemPurple: #BF5AF2;
  --color-systemTeal: #64D2FF;
  --color-systemIndigo: #5E5CE6;
  
  /* Apple Semantic Colors - Dark Mode */
  --color-label: #FFFFFF;
  --color-secondaryLabel: rgba(235, 235, 245, 0.6);
  --color-tertiaryLabel: rgba(235, 235, 245, 0.3);
  --color-quaternaryLabel: rgba(235, 235, 245, 0.16);
  
  --color-systemFill: rgba(120, 120, 128, 0.36);
  --color-secondarySystemFill: rgba(120, 120, 128, 0.32);
  --color-tertiarySystemFill: rgba(118, 118, 128, 0.28);
  --color-quaternarySystemFill: rgba(118, 118, 128, 0.24);
  
  --color-systemBackground: #000000;
  --color-systemBackgroundTranslucent: rgba(0, 0, 0, 0.9);
  --color-secondarySystemBackground: #1C1C1E;
  --color-tertiarySystemBackground: #2C2C2E;
  
  --color-systemGroupedBackground: #000000;
  --color-secondarySystemGroupedBackground: #1C1C1E;
  --color-tertiarySystemGroupedBackground: #2C2C2E;
  
  --color-separator: rgba(84, 84, 88, 0.65);
  --color-opaqueSeparator: #38383A;
  
  /* Update brand colors for dark mode */
  --color-primary: var(--color-systemMartiGray);
  --color-primary-hover: var(--color-systemMartiGrayHover);
  --color-primary-rgb: 90, 90, 94; /* RGB values for Marti Gray Dark */
  --color-primaryTranslucent: rgba(90, 90, 94, 0.1);
  --color-primaryBorder: rgba(90, 90, 94, 0.2);
  --color-primaryGlow: rgba(90, 90, 94, 0.3);
  --color-secondary: var(--color-systemTeal);
  
  /* Shadow Colors RGB - Dark Mode */
  --color-shadowFocus-rgb: 90, 90, 94; /* RGB values for Marti Gray Dark */
  
  /* Apple Message Bubble Colors - Dark Mode */
  --color-bubble-sent: var(--color-primary);
  --color-bubble-sent-text: #FFFFFF;
  --color-bubble-received: #2C2C2E;
  --color-bubble-received-text: var(--color-label);
  
  /* ✅ ADDED: iMessage-Style Background - Pure black in dark mode */
  --color-messages-background: #000000;
  
  /* Icon and UI element colors with semantic opacity - Dark Mode */
  --color-iconInactive: var(--color-iconInactiveDark);
  --color-closeButtonBg: var(--color-closeButtonBgDark);
  
  /* Modal glassmorphism button tokens - Dark Mode */
  --color-modal-buttonBg: rgba(44, 44, 46, 0.8); /* Dark glassmorphism background */
  --color-modal-buttonBorder: rgba(255, 255, 255, 0.1); /* Subtle light border for dark mode */
  
  /* ✅ UPDATED: Modal overlay dark mode - match sidebar mobile dimming */
  --color-modal-overlay: var(--color-modal-overlayDark); /* Use dark variant (60% opacity) */
}

/* Base Styles - Apple Compliant */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  /* Safari Mobile tap delay fix */
  -webkit-tap-highlight-color: transparent;
  /* Prevent font size adjustment after orientation change without disabling zoom */
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  height: 100%;
  /* Apple-like smooth scrolling */
  scroll-behavior: auto;
}

body {
  font-family: var(--font-family-appleSystem);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  color: var(--color-label);
  background: var(--color-systemGroupedBackground);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  height: 100%;
  overflow-x: hidden;
  /* Support for Dynamic Type */
  font: -apple-system-body;
}

a {
  color: var(--color-primary);
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

button, input, textarea, select {
  font-family: inherit;
  font-size: 100%;
  line-height: 1.15;
}

img, svg {
  display: block;
  max-width: 100%;
}

/* Safari- and iOS-specific fixes */
@supports (-webkit-touch-callout: none) {
  body {
    /* Fix 100vh issue in Safari iOS */
    height: -webkit-fill-available;
  }
  
  html {
    height: -webkit-fill-available;
  }
}

/* Responsive typography - Apple approach */
@media (max-width: 768px) {
  html {
    font-size: 14px;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --color-separator: var(--color-opaqueSeparator);
  }
  
  .dark-theme {
    --color-separator: var(--color-opaqueSeparator);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Focus styles - Apple accessibility guidelines */
:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Selection styles */
::selection {
  background-color: var(--color-primary);
  color: var(--color-systemBackground);
}

/* Scrollbar styling for WebKit browsers */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-tertiarySystemFill);
}

::-webkit-scrollbar-thumb {
  background: var(--color-secondarySystemFill);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-systemFill);
}

/* Layout Component Styles */
.main-navigation {
  position: sticky;
  top: 0;
  z-index: var(--z-index-navigation);
  background: var(--glassmorphism-primary);
  backdrop-filter: var(--glassmorphism-primary-filter);
  border-bottom: 1px solid var(--color-separator);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
}

.nav-desktop {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-2) var(--spacing-6);
  width: 100%;
  max-width: none;
}

/* Header Brand */
.header-brand {
  font-size: var(--font-size-lg);
  font-weight: 700;
  color: var(--color-label);
  letter-spacing: var(--letter-spacing-tight);
  margin: 0;
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-systemBlue) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Navigation Links Container */
.nav-links-container {
  display: flex;
  gap: var(--spacing-2);
  background: var(--color-tertiarySystemBackground);
  padding: var(--spacing-1);
  border-radius: var(--border-radius-xl);
  border: 1px solid var(--color-separator);
}

/* Navigation Link */
.nav-link {
  padding: var(--spacing-1\.5) var(--spacing-3);
  border-radius: var(--border-radius-lg);
  text-decoration: none;
  font-size: var(--font-size-sm);
  font-weight: 600;
  transition: all var(--duration-fast) ease;
  position: relative;
  overflow: hidden;
}

.nav-link:not(.active) {
  color: var(--color-secondaryLabel);
  background: transparent;
}

.nav-link:not(.active):hover {
  color: var(--color-label);
  background: var(--color-systemFill);
  transform: translateY(-1px);
}

.nav-link.active {
  color: var(--color-systemBackground);
  background: var(--color-primary);
  box-shadow: var(--shadow-button);
}

.nav-link.active::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.1) 100%);
  pointer-events: none;
}

/* Header Right Section */
.header-right {
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
}

/* Selected Client Badge */
.selected-client-badge {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
  padding: var(--spacing-2) var(--spacing-3);
  background: var(--color-systemFill);
  border-radius: var(--border-radius-xl);
  border: 1px solid var(--color-separator);
  transition: var(--transition-all);
}

.selected-client-badge:hover {
  background: var(--color-secondarySystemFill);
  border-color: var(--color-primary);
}

.client-color-indicator {
  width: 8px;
  height: 8px;
  border-radius: var(--border-radius-full);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.client-name {
  font-size: var(--font-size-sm);
  color: var(--color-label);
  font-weight: 500;
}



/* Logout Button */
.logout-button {
  padding: var(--spacing-2) var(--spacing-3);
  border-radius: var(--border-radius-lg);
  background: var(--color-primary);
  color: var(--color-systemBackground);
  border: none;
  font-size: var(--font-size-sm);
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition-all);
  box-shadow: var(--shadow-button);
  position: relative;
  overflow: hidden;
}

.logout-button:hover {
  background: var(--color-primary-hover);
  transform: translateY(-1px);
  box-shadow: var(--shadow-buttonHover);
}

.logout-button:active {
  transform: translateY(0);
}

.nav-mobile {
  display: none;
}

.nav-mobile-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-2\.5) var(--spacing-4);
}

.hamburger-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: var(--spacing-1\.5);
  border-radius: var(--border-radius-lg);
  transition: var(--transition-backgroundColor);
}

.hamburger-button:hover {
  background: var(--color-systemFill);
}

.hamburger-icon {
  display: flex;
  flex-direction: column;
  gap: 4px;
  width: 24px;
  height: 18px;
}

.hamburger-icon span {
  display: block;
  width: 100%;
  height: 2px;
  background: var(--color-label);
  border-radius: 1px;
  transition: var(--transition-transform);
}

.hamburger-icon.open span:nth-child(1) {
  transform: translateY(6px) rotate(45deg);
}

.hamburger-icon.open span:nth-child(2) {
  opacity: 0;
}

.hamburger-icon.open span:nth-child(3) {
  transform: translateY(-6px) rotate(-45deg);
}

.mobile-menu-overlay {
  position: fixed;
  inset: 0;
  background: var(--color-modal-overlay);
  backdrop-filter: var(--glassmorphism-backdrop-filter);
  z-index: var(--z-index-modal);
  display: flex;
  justify-content: flex-end;
}

.mobile-menu {
  background: var(--glassmorphism-secondary);
  backdrop-filter: var(--glassmorphism-secondary-filter);
  width: 280px;
  height: 100%;
  padding: var(--spacing-6) var(--spacing-4);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-6);
  border-left: 1px solid var(--color-separator);
}

.mobile-preset-indicator {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
  padding: var(--spacing-2);
  background: var(--color-systemFill);
  borderRadius: var(--border-radius-lg);
  fontSize: var(--font-size-sm);
  fontWeight: 500;
  color: var(--color-label);
}

.mobile-nav-links {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-1);
}

.mobile-nav-link {
  padding: var(--spacing-2\.5) var(--spacing-3);
  border-radius: var(--border-radius-lg);
  color: var(--color-label);
  text-decoration: none;
  fontSize: var(--font-size-base);
  fontWeight: 500;
  transition: var(--transition-backgroundColor);
}

.mobile-nav-link:hover {
  background: var(--color-systemFill);
}

.mobile-nav-link.active {
  background: var(--color-primary);
  color: var(--color-systemBackground);
}

.mobile-user-section {
  margin-top: auto;
  padding-top: var(--spacing-4);
  border-top: 1px solid var(--color-separator);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-3);
}

.mobile-user-email {
  color: var(--color-secondaryLabel);
  fontSize: var(--font-size-sm);
  fontWeight: 500;
}

.mobile-logout-btn {
  width: 100%;
}

.main-content {
  min-height: calc(100vh - var(--layout-header-height));
  padding: var(--spacing-6);
  width: 100%;
}

@media (max-width: 768px) {
  .nav-desktop {
    display: none;
  }
  
  .nav-mobile {
    display: block;
  }
  
  .main-content {
    min-height: calc(100vh - var(--layout-header-height-mobile));
    padding: var(--spacing-4);
  }
}

/* Spinner Animation */
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Campaign Builder Styles */
.campaign-builder-container {
  width: 100%;
  padding: 0 var(--spacing-4);
}

.campaign-builder-header {
  text-align: center;
  margin-bottom: var(--spacing-8);
}

.header-with-logo {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-4);
  flex-wrap: wrap;
}

.header-logo {
  width: 48px;
  height: 48px;
  object-fit: contain;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.campaign-builder-title {
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-label);
  margin: 0;
  letter-spacing: var(--letter-spacing-tight);
}

.campaign-builder-subtitle {
  font-size: var(--font-size-lg);
  color: var(--color-secondaryLabel);
  max-width: 600px;
  margin: 0 auto;
  line-height: var(--line-height-relaxed);
}

/* Client Selection Styles */
.client-selection-warning {
  background: var(--color-warningSubtle);
  border: 1px solid var(--color-warningBorder);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-6);
  margin-bottom: var(--spacing-8);
  text-align: center;
}

.client-selection-warning h2 {
  color: var(--color-warning);
  font-size: var(--font-size-xl);
  margin-bottom: var(--spacing-3);
}

.client-selection-warning p {
  color: var(--color-label);
  font-size: var(--font-size-base);
  margin-bottom: var(--spacing-4);
  line-height: var(--line-height-relaxed);
}

.client-selection-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--spacing-4);
  margin-top: var(--spacing-4);
}

.client-selection-card {
  background: var(--color-systemBackground);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-4);
  cursor: pointer;
  transition: var(--transition-all);
}

.client-selection-card:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-card);
  transform: translateY(-2px);
}

/* Selected Client Banner */
.selected-client-banner {
  background: var(--color-primaryTranslucent);
  border: 1px solid var(--color-primaryBorder);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-4);
  margin-bottom: var(--spacing-6);
}

.selected-client-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.selected-client-info h2 {
  color: var(--color-primary);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  margin-bottom: var(--spacing-1);
}

.selected-client-info p {
  color: var(--color-label);
  font-size: var(--font-size-base);
  margin: 0;
}

/* Client Cards Grid */
.clients-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: var(--spacing-4);
  margin-top: var(--spacing-4);
}

.client-card {
  background: var(--color-systemBackground);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-4);
  transition: var(--transition-all);
}

.client-card:hover {
  box-shadow: var(--shadow-card);
  transform: translateY(-2px);
}

.client-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--spacing-3);
}

.client-card-brand {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin-bottom: var(--spacing-1);
}

.client-card-industry {
  font-size: var(--font-size-sm);
  color: var(--color-secondaryLabel);
}

.client-card-actions {
  display: flex;
  gap: var(--spacing-2);
  margin-top: var(--spacing-3);
}

.client-card-stats {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--spacing-2);
  margin-top: var(--spacing-3);
  padding-top: var(--spacing-3);
  border-top: 1px solid var(--color-separator);
}

.client-card-stat {
  text-align: center;
}

.client-card-stat-value {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-primary);
}

.client-card-stat-label {
  font-size: var(--font-size-xs);
  color: var(--color-tertiaryLabel);
  text-transform: uppercase;
  letter-spacing: var(--letter-spacing-wide);
}

/* Modal Styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--color-modalOverlay);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--z-index-modal);
  padding: var(--spacing-4);
}

.modal-content {
  background: var(--color-systemBackground);
  border-radius: var(--border-radius-modal);
  box-shadow: var(--shadow-appleModal);
  border: 1px solid var(--color-border);
  max-width: 600px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-4);
  border-bottom: 1px solid var(--color-separator);
}

.modal-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin: 0;
}

.modal-close {
  background: none;
  border: none;
  font-size: var(--font-size-xl);
  color: var(--color-tertiaryLabel);
  cursor: pointer;
  padding: var(--spacing-1);
  border-radius: var(--border-radius-lg);
  transition: var(--transition-backgroundColor);
}

.modal-close:hover {
  background: var(--color-systemFill);
}

.modal-body {
  padding: var(--spacing-4);
}

.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-2);
  padding: var(--spacing-4);
  border-top: 1px solid var(--color-separator);
}

/* Presets/Client Management Specific Styles */
.presets-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: var(--spacing-4);
  margin-top: var(--spacing-4);
}

.preset-card {
  background: var(--color-systemBackground);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-4);
  transition: var(--transition-all);
  position: relative;
}

.preset-card:hover {
  box-shadow: var(--shadow-card);
  transform: translateY(-2px);
  border-color: var(--color-primary);
}

.preset-card.selected {
  border-color: var(--color-primary);
  background: var(--color-primaryTranslucent);
}

.preset-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
  margin-bottom: var(--spacing-3);
}

.preset-logo {
  width: 48px;
  height: 48px;
  border-radius: var(--border-radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-weight-bold);
  font-size: var(--font-size-base);
  flex-shrink: 0;
}

.preset-info {
  flex: 1;
  min-width: 0;
}

.preset-brand {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin: 0 0 var(--spacing-1) 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.preset-industry {
  font-size: var(--font-size-sm);
  color: var(--color-secondaryLabel);
  margin: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.preset-details {
  border-top: 1px solid var(--color-separator);
  padding-top: var(--spacing-3);
  margin-top: var(--spacing-3);
}

.preset-detail-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-2);
}

.preset-detail-row:last-child {
  margin-bottom: 0;
}

.preset-label {
  font-size: var(--font-size-sm);
  color: var(--color-secondaryLabel);
  font-weight: 500;
}

.preset-value {
  font-size: var(--font-size-sm);
  color: var(--color-label);
  font-family: var(--font-family-mono);
  text-align: right;
  word-break: break-all;
  max-width: 60%;
}

.preset-actions {
  display: flex;
  gap: var(--spacing-2);
  margin-top: var(--spacing-4);
  padding-top: var(--spacing-3);
  border-top: 1px solid var(--color-separator);
}

.preset-actions .btn {
  flex: 1;
}

.preset-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--spacing-2);
  margin-top: var(--spacing-3);
  padding-top: var(--spacing-3);
  border-top: 1px solid var(--color-separator);
}

.preset-stat {
  text-align: center;
}

.preset-stat-value {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-primary);
  display: block;
}

.preset-stat-label {
  font-size: var(--font-size-xs);
  color: var(--color-tertiaryLabel);
  text-transform: uppercase;
  letter-spacing: var(--letter-spacing-wide);
  margin-top: var(--spacing-1);
}

.preset-badge {
  position: absolute;
  top: var(--spacing-2);
  right: var(--spacing-2);
  background: var(--color-success);
  color: var(--color-systemBackground);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  padding: var(--spacing-1) var(--spacing-2);
  border-radius: var(--border-radius-full);
  text-transform: uppercase;
  letter-spacing: var(--letter-spacing-wide);
}

.preset-badge.active {
  background: var(--color-primary);
}

.preset-selected-badge {
  position: absolute;
  top: var(--spacing-2);
  right: var(--spacing-2);
  background: var(--color-success);
  color: var(--color-systemBackground);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  padding: var(--spacing-1) var(--spacing-2);
  border-radius: var(--border-radius-full);
  text-transform: uppercase;
  letter-spacing: var(--letter-spacing-wide);
}

.monospace {
  font-family: var(--font-family-mono);
}

/* Form Styles for Modal */
.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-4);
}

.form-section {
  margin-bottom: var(--spacing-6);
}

.form-section-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin-bottom: var(--spacing-3);
  padding-bottom: var(--spacing-2);
  border-bottom: 1px solid var(--color-separator);
}

.form-group {
  margin-bottom: var(--spacing-4);
}

.form-group:last-child {
  margin-bottom: 0;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-3);
}

.color-input-group {
  display: flex;
  gap: var(--spacing-2);
  align-items: center;
}

.color-input-group input[type="color"] {
  width: 40px;
  height: 40px;
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  cursor: pointer;
  background: none;
}

.color-input-group input[type="text"] {
  flex: 1;
}

.checkbox-group {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-2);
  margin-top: var(--spacing-2);
}

.checkbox-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-1);
  padding: var(--spacing-1\.5) var(--spacing-2);
  background: var(--color-systemFill);
  border-radius: var(--border-radius-lg);
  cursor: pointer;
  transition: var(--transition-backgroundColor);
  user-select: none;
}

.checkbox-item:hover {
  background: var(--color-secondarySystemFill);
}

.checkbox-item.checked {
  background: var(--color-primaryTranslucent);
  color: var(--color-primary);
}

.checkbox-item input[type="checkbox"] {
  margin: 0;
}

.checkbox-item label {
  font-size: var(--font-size-sm);
  font-weight: 500;
  cursor: pointer;
  margin: 0;
}

/* Advanced Campaign Specific Styles */
.variants-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: var(--spacing-4);
  margin-top: var(--spacing-4);
}

.variant-card {
  background: var(--color-systemBackground);
  border: 2px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-4);
  cursor: pointer;
  transition: var(--transition-all);
  position: relative;
  min-height: 400px;
  display: flex;
  flex-direction: column;
}

.variant-card:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-card);
  transform: translateY(-2px);
}

.variant-card.selected {
  border-color: var(--color-primary);
  background: var(--color-primaryTranslucent);
  box-shadow: var(--shadow-primaryGlow);
}

.variant-card.approved {
  border-color: var(--color-success);
}

.variant-card.pending {
  border-color: var(--color-warning);
}

/* Step Progress Styles */
.step-progress-container {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: var(--spacing-8);
  padding: var(--spacing-4);
  background: var(--color-systemFill);
  border-radius: var(--border-radius-lg);
}

.step-progress-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  flex: 1;
  max-width: 200px;
}

.step-progress-circle {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--color-tertiarySystemFill);
  border: 2px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-weight-bold);
  color: var(--color-tertiaryLabel);
  margin-bottom: var(--spacing-2);
  transition: var(--transition-all);
}

.step-progress-circle.active {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-systemBackground);
}

.step-progress-circle.completed {
  background: var(--color-success);
  border-color: var(--color-success);
  color: var(--color-systemBackground);
}

.step-progress-info {
  text-align: center;
}

.step-progress-title {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-secondaryLabel);
  margin-bottom: var(--spacing-1);
}

.step-progress-title.active {
  color: var(--color-primary);
}

.step-progress-description {
  font-size: var(--font-size-xs);
  color: var(--color-tertiaryLabel);
}

.step-progress-line {
  position: absolute;
  top: 20px;
  left: 60%;
  right: -40%;
  height: 2px;
  background: var(--color-border);
  transition: var(--transition-all);
}

.step-progress-line.completed {
  background: var(--color-success);
}

/* Form Section Styles */
.form-section {
  background: var(--color-systemBackground);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-6);
  margin-bottom: var(--spacing-6);
}

.form-section-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin-bottom: var(--spacing-4);
  padding-bottom: var(--spacing-2);
  border-bottom: 1px solid var(--color-separator);
}

.form-grid.two-columns {
  grid-template-columns: repeat(2, 1fr);
}

/* Campaign Categories */
.campaign-categories-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-3);
  margin-top: var(--spacing-4);
}

.campaign-category-card {
  background: var(--color-systemBackground);
  border: 2px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-4);
  text-align: center;
  cursor: pointer;
  transition: var(--transition-all);
}

.campaign-category-card:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-card);
}

.campaign-category-card.selected {
  border-color: var(--color-primary);
  background: var(--color-primaryTranslucent);
}

.campaign-category-icon {
  font-size: var(--font-size-2xl);
  margin-bottom: var(--spacing-2);
  display: block;
}

.campaign-category-name {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin-bottom: var(--spacing-1);
}

.campaign-category-description {
  font-size: var(--font-size-sm);
  color: var(--color-secondaryLabel);
  margin: 0;
}

/* Campaign Types */
.campaign-types-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--spacing-4);
  margin-top: var(--spacing-4);
}

.campaign-type-card {
  background: var(--color-systemBackground);
  border: 2px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-4);
  cursor: pointer;
  transition: var(--transition-all);
}

.campaign-type-card:hover {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-card);
}

.campaign-type-card.selected {
  border-color: var(--color-primary);
  background: var(--color-primaryTranslucent);
}

.campaign-type-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
  margin-bottom: var(--spacing-2);
}

.campaign-type-icon {
  font-size: var(--font-size-xl);
}

.campaign-type-name {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin: 0;
}

.campaign-type-description {
  font-size: var(--font-size-sm);
  color: var(--color-secondaryLabel);
  margin: 0;
  line-height: var(--line-height-relaxed);
}

/* Campaign Builder Form Sections */
.campaign-form-section {
  background: var(--color-systemBackground);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-6);
  margin-bottom: var(--spacing-6);
}

.campaign-form-section h3 {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin-bottom: var(--spacing-4);
  padding-bottom: var(--spacing-2);
  border-bottom: 1px solid var(--color-separator);
}

.campaign-targeting-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-4);
  margin-top: var(--spacing-4);
}

.campaign-targeting-item {
  background: var(--color-systemFill);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-3);
}

.campaign-targeting-label {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin-bottom: var(--spacing-1);
  display: block;
}

.campaign-targeting-value {
  font-size: var(--font-size-base);
  color: var(--color-secondaryLabel);
}

/* Campaign Creation Flow */
.campaign-step {
  background: var(--color-systemBackground);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-6);
  margin-bottom: var(--spacing-6);
}

.campaign-step-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
  margin-bottom: var(--spacing-4);
}

.campaign-step-number {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--color-primary);
  color: var(--color-systemBackground);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-weight-bold);
  font-size: var(--font-size-sm);
}

.campaign-step-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-label);
  margin: 0;
}

.campaign-summary-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-4);
  margin-top: var(--spacing-4);
}

.campaign-summary-item {
  background: var(--color-systemFill);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-4);
  text-align: center;
}

.campaign-summary-value {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-primary);
  margin-bottom: var(--spacing-1);
}

.campaign-summary-label {
  font-size: var(--font-size-sm);
  color: var(--color-secondaryLabel);
  text-transform: uppercase;
  letter-spacing: var(--letter-spacing-wide);
}

/* Step Navigation */
.step-navigation {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--spacing-4);
  margin-top: var(--spacing-8);
  margin-bottom: var(--spacing-6);
  padding: var(--spacing-4);
  background: var(--color-systemFill);
  border-radius: var(--border-radius-lg);
  width: 100%;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

.step-navigation button {
  min-width: 120px;
}

.step-navigation .btn:disabled {
  opacity: var(--opacity-disabled);
  cursor: not-allowed;
}

/* Campaign Results */
.campaign-result-success {
  background: var(--color-successSubtle);
  border: 1px solid var(--color-successBorder);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-6);
}

.campaign-result-error {
  background: var(--color-errorSubtle);
  border: 1px solid var(--color-errorBorder);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-6);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .campaign-builder-container {
    padding: 0 var(--spacing-3);
  }
  
  .campaign-builder-title {
    font-size: var(--font-size-2xl);
  }

  .header-logo {
    width: 40px;
    height: 40px;
  }

  .header-with-logo {
    gap: var(--spacing-3);
  }
  
  .campaign-builder-subtitle {
    font-size: var(--font-size-base);
  }
  
  .client-selection-grid {
    grid-template-columns: 1fr;
  }
  
  .clients-grid {
    grid-template-columns: 1fr;
  }
  
  .selected-client-content {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-2);
  }
  
  .presets-grid {
    grid-template-columns: 1fr;
  }
  
  .preset-header {
    flex-direction: column;
    text-align: center;
    gap: var(--spacing-2);
  }
  
  .preset-value {
    max-width: 100%;
    text-align: left;
  }
  
  .preset-actions {
    flex-direction: column;
  }
  
  .form-grid {
    grid-template-columns: 1fr;
  }
  
  .form-row {
    grid-template-columns: 1fr;
  }
  
  .variants-grid {
    grid-template-columns: 1fr;
  }
  
  .variant-card {
    min-height: 300px;
  }
  
  .campaign-targeting-grid {
    grid-template-columns: 1fr;
  }
  
  .campaign-summary-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .step-progress-container {
    flex-direction: column;
    gap: var(--spacing-3);
  }
  
  .step-progress-item {
    max-width: none;
    width: 100%;
  }
  
  .step-progress-line {
    display: none;
  }
  
  .campaign-categories-grid {
    grid-template-columns: 1fr;
  }
  
  .campaign-types-grid {
    grid-template-columns: 1fr;
  }
  
  .form-grid.two-columns {
    grid-template-columns: 1fr;
  }
  
  .step-navigation {
    flex-direction: column;
    gap: var(--spacing-3);
    padding: var(--spacing-3);
  }
  
  .step-navigation button {
    width: 100%;
    min-width: auto;
  }
  
  /* Header responsive */
  .nav-desktop {
    padding: var(--spacing-3) var(--spacing-4);
  }
  
  .header-brand {
    font-size: var(--font-size-lg);
    margin-bottom: var(--spacing-2);
  }
  
  .nav-links-container {
    order: 3;
    width: 100%;
    justify-content: center;
    margin-top: var(--spacing-2);
  }
  
  .nav-desktop > div:first-child {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-2);
  }
  
  .header-right {
    gap: var(--spacing-2);
    flex-wrap: wrap;
  }
  

  
  .selected-client-badge {
    font-size: var(--font-size-xs);
    padding: var(--spacing-1\.5) var(--spacing-2);
  }
}

/* Utility Classes for Common Patterns */

/* Buttons */
.btn {
  padding: var(--spacing-2\.5) var(--spacing-4);
  border-radius: var(--radius-button);
  border: none;
  font-size: var(--font-size-base);
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition-backgroundColor);
  box-shadow: var(--shadow-button);
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-1);
}

.btn-primary {
  background: var(--color-primary);
  color: var(--color-systemBackground);
}

.btn-primary:hover {
  background: var(--color-primary-hover);
}

.btn-secondary {
  background: var(--color-systemFill);
  color: var(--color-label);
}

.btn-secondary:hover {
  background: var(--color-secondarySystemFill);
}

.btn-outlined {
  background: transparent;
  color: var(--color-primary);
  border: 1px solid var(--color-primary);
  box-shadow: none;
}

.btn-outlined:hover {
  background: var(--color-primary);
  color: var(--color-systemBackground);
}

.btn-success {
  background: var(--color-success);
  color: var(--color-systemBackground);
}

.btn-success:hover {
  background: var(--color-successDark);
}

.btn-error {
  background: var(--color-error);
  color: var(--color-systemBackground);
}

.btn-small {
  padding: var(--spacing-1) var(--spacing-2);
  font-size: var(--font-size-sm);
}

.btn-large {
  padding: var(--spacing-3) var(--spacing-4);
  font-size: var(--font-size-lg);
}

.btn-disabled {
  opacity: var(--opacity-disabled);
  cursor: not-allowed;
}

/* Form Controls */
.form-input {
  width: 100%;
  padding: var(--spacing-2);
  border-radius: var(--radius-input);
  border: 1px solid var(--color-border);
  background: var(--color-systemBackground);
  color: var(--color-label);
  font-size: var(--font-size-base);
  font-family: inherit;
  outline: none;
  transition: var(--transition-borderColor);
}

.form-input:focus {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-focus);
}

.form-select {
  width: 100%;
  padding: var(--spacing-2);
  border-radius: var(--radius-input);
  border: 1px solid var(--color-border);
  background: var(--color-systemBackground);
  color: var(--color-label);
  font-size: var(--font-size-base);
  font-family: inherit;
  outline: none;
  transition: var(--transition-borderColor);
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='M6 9l6 6 6-6'/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right var(--spacing-2) center;
  background-size: 16px;
  padding-right: var(--spacing-8);
}

.form-select:focus {
  border-color: var(--color-primary);
  box-shadow: var(--shadow-focus);
}

.form-select:hover {
  border-color: var(--color-primary);
}

.form-select option {
  background: var(--color-systemBackground);
  color: var(--color-label);
  padding: var(--spacing-2);
}

.form-label {
  color: var(--color-secondaryLabel);
  font-size: var(--font-size-sm);
  font-weight: 500;
  margin-bottom: var(--spacing-1);
  display: block;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-1);
}

.form-row {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-4);
}

@media (min-width: 768px) {
  .form-row {
    flex-direction: row;
  }
  
  .form-row .form-group {
    flex: 1;
  }
}

/* Cards */
.card {
  background: var(--color-card);
  border-radius: var(--radius-card);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-productCard);
  overflow: hidden;
}

.card-elevated {
  box-shadow: var(--shadow-productCardHover);
}

.card-header {
  padding: var(--spacing-4);
  border-bottom: 1px solid var(--color-separator);
}

.card-body {
  padding: var(--spacing-4);
}

.card-footer {
  padding: var(--spacing-4);
  border-top: 1px solid var(--color-separator);
  background: var(--color-tertiarySystemBackground);
}

/* Layout Utilities */
.container {
  max-width: var(--content-max-width);
  margin: 0 auto;
  padding: 0 var(--spacing-4);
}

.flex {
  display: flex;
}

.flex-col {
  flex-direction: column;
}

.items-center {
  align-items: center;
}

.justify-center {
  justify-content: center;
}

.justify-between {
  justify-content: space-between;
}

.gap-1 { gap: var(--spacing-1); }
.gap-2 { gap: var(--spacing-2); }
.gap-3 { gap: var(--spacing-3); }
.gap-4 { gap: var(--spacing-4); }
.gap-6 { gap: var(--spacing-6); }

/* Text Utilities */
.text-primary { color: var(--color-label); }
.text-secondary { color: var(--color-secondaryLabel); }
.text-tertiary { color: var(--color-tertiaryLabel); }
.text-success { color: var(--color-success); }
.text-error { color: var(--color-error); }
.text-warning { color: var(--color-warning); }

.text-xs { font-size: var(--font-size-xs); }
.text-sm { font-size: var(--font-size-sm); }
.text-base { font-size: var(--font-size-base); }
.text-lg { font-size: var(--font-size-lg); }
.text-xl { font-size: var(--font-size-xl); }
.text-2xl { font-size: var(--font-size-2xl); }
.text-3xl { font-size: var(--font-size-3xl); }

.font-medium { font-weight: var(--font-weight-medium); }
.font-semibold { font-weight: var(--font-weight-semibold); }
.font-bold { font-weight: var(--font-weight-bold); }

.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

/* Spacing Utilities */
.p-1 { padding: var(--spacing-1); }
.p-2 { padding: var(--spacing-2); }
.p-3 { padding: var(--spacing-3); }
.p-4 { padding: var(--spacing-4); }
.p-6 { padding: var(--spacing-6); }
.p-8 { padding: var(--spacing-8); }

.m-1 { margin: var(--spacing-1); }
.m-2 { margin: var(--spacing-2); }
.m-3 { margin: var(--spacing-3); }
.m-4 { margin: var(--spacing-4); }
.m-6 { margin: var(--spacing-6); }
.m-8 { margin: var(--spacing-8); }

.mb-1 { margin-bottom: var(--spacing-1); }
.mb-2 { margin-bottom: var(--spacing-2); }
.mb-3 { margin-bottom: var(--spacing-3); }
.mb-4 { margin-bottom: var(--spacing-4); }
.mb-6 { margin-bottom: var(--spacing-6); }

.mt-1 { margin-top: var(--spacing-1); }
.mt-2 { margin-top: var(--spacing-2); }
.mt-3 { margin-top: var(--spacing-3); }
.mt-4 { margin-top: var(--spacing-4); }
.mt-6 { margin-top: var(--spacing-6); }

/* Loading States */
.loading-spinner {
  width: var(--spacing-6);
  height: var(--spacing-6);
  border: var(--border-width-accent) solid var(--color-tertiaryLabel);
  border-top: var(--border-width-accent) solid var(--color-primary);
  border-radius: var(--border-radius-full);
  animation: spin var(--duration-slow) linear infinite;
}

.loading-dots {
  display: inline-flex;
  gap: var(--spacing-1);
}

.loading-dots span {
  width: var(--spacing-1);
  height: var(--spacing-1);
  border-radius: var(--border-radius-full);
  background: var(--color-primary);
  animation: pulse var(--duration-slow) ease-in-out infinite;
}

.loading-dots span:nth-child(2) {
  animation-delay: 0.1s;
}

.loading-dots span:nth-child(3) {
  animation-delay: 0.2s;
}

@keyframes pulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

/* Status Indicators */
.status-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-1);
  padding: var(--spacing-1) var(--spacing-2);
  border-radius: var(--border-radius-lg);
  font-size: var(--font-size-sm);
  font-weight: 500;
}

.status-badge-success {
  background: var(--color-successSubtle);
  color: var(--color-success);
  border: 1px solid var(--color-successBorder);
}

.status-badge-error {
  background: rgba(255, 59, 48, 0.08);
  color: var(--color-error);
  border: 1px solid rgba(255, 59, 48, 0.2);
}

.status-badge-warning {
  background: rgba(255, 204, 0, 0.08);
  color: var(--color-warning);
  border: 1px solid rgba(255, 204, 0, 0.2);
}

.status-badge-info {
  background: rgba(0, 122, 255, 0.08);
  color: var(--color-primary);
  border: 1px solid rgba(0, 122, 255, 0.2);
}

/* Responsive Utilities */
@media (max-width: 768px) {
  .hidden-mobile { display: none !important; }
  .flex-mobile { display: flex !important; }
  
  .text-sm-mobile { font-size: var(--font-size-xs); }
  .text-base-mobile { font-size: var(--font-size-sm); }
  
  .p-2-mobile { padding: var(--spacing-2); }
  .p-4-mobile { padding: var(--spacing-4); }
}

@media (min-width: 769px) {
  .hidden-desktop { display: none !important; }
}

/* App Layout Styles */
.app-layout {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.main-content {
  flex: 1;
  padding: var(--spacing-6) 0;
}

@media (max-width: 768px) {
  .main-content {
    padding: var(--spacing-4) 0;
  }
}

/* Page Header Styles */
.page-header {
  text-align: center;
  margin-bottom: var(--spacing-8);
}

.page-title {
  font-size: var(--font-size-4xl);
  font-weight: 700;
  color: var(--color-label);
  margin: 0 0 var(--spacing-3) 0;
  font-family: var(--font-family-display);
}

.page-description {
  font-size: var(--font-size-lg);
  color: var(--color-secondaryLabel);
  margin: 0;
}

@media (max-width: 768px) {
  .page-title {
    font-size: var(--font-size-2xl);
  }
  
  .page-description {
    font-size: var(--font-size-base);
  }
}

 